<html lang="en" xml:lang="en"><head>
<META http-equiv="Content-Type" content="text/html">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"><META name="description" content="Logging Logging Options This section describes logfiles for the geoportal web application and its Desktop Tools. Geoportal web application logging Enable logging for the Geoportal Clients The CswClient.log file for the CSW Clients The publishMetadata.log file for the Publish Client The WMCOpener.log for the WMC Client Geoportal web application loggingWhen errors or other problems occur in the geoportal interface, the best place to look for information is the log files. The geoportal web application logging described here is in the context of implementations using Apache Tomcat for geoportal logging or Oracle WebLogic for geoportal logging as the web application server. For other supported web application server software, you"><meta name="content-language" content="en"><link href="rsrc/htmlhelp.css" rel="stylesheet" type="text/css"><title>Geoportal Server - Logging</title><script type="text/javascript" language="JavaScript">
                    var pathL  = self.location.pathname.split ("/");
                    var fname = pathL[pathL.length-1];
                    var i = fname.lastIndexOf (".html");
                    if (i>=0) {
                    fname = fname.substring (0, i)
                    } else {
                    //??
                    }
                    self.location.replace ("../index.html#//" + fname);
                </script></head><!--Publication GUID: [GUID-4DA02BE7-AD9D-4B8F-8F2F-03A1389F0D20]--><!--Topic GUID: [GUID-E3638966-E165-4266-9BFA-DB078AD0A0F3]--><body><div id="content"><div class="header"><h1>Logging</h1><div id="breadcrumb"></div></div>
		<div class="section1" id="GUID-E22F2690-80D3-4977-848B-E992DF98BC2B" purpose="section1"><h2>Logging Options</h2><p id="GUID-32B025D5-3A4E-4EE2-8EFE-E43714ECD613">This section describes logfiles for the geoportal web application and its Desktop Tools. <ol purpose="ol" id="GUID-638EDCEA-6D80-4B67-B612-75A5E3420D73">
					<li purpose="li" id="GUID-9182F537-BB5A-4B62-B958-04188562D60F"><a class="xref" rel="00t0/00t000000007000000.htm#LOGFILEOVERVIEW" href="00t0/00t000000007000000.htm#LOGFILEOVERVIEW">Geoportal web application logging</a></li><li purpose="li" id="LI_185305818B0A4AE4B4BC0EB2FEEC8E46"><a class="xref" rel="00t0/00t000000007000000.htm#ESRI_SECTION1_3721437C54734EC397D0DA6ED9C1C48F" href="00t0/00t000000007000000.htm#ESRI_SECTION1_3721437C54734EC397D0DA6ED9C1C48F">Enable logging for the Geoportal Clients</a></li>
					<li purpose="li" id="GUID-9EBA6825-DC0C-46B9-BC5D-443571C60E6E"><a class="xref" rel="00t0/00t000000007000000.htm#LOGFILEOVERVIEW" href="00t0/00t000000007000000.htm#LOGFILEOVERVIEW">The CswClient.log file for the CSW Clients</a>
					</li>
					<li purpose="li" id="GUID-73DB34BA-8992-4CC7-AD62-97AB97E6BD7A"><a class="xref" rel="00t0/00t000000007000000.htm#INTERPRETPUBLISHMETADATALOG" href="00t0/00t000000007000000.htm#INTERPRETPUBLISHMETADATALOG">The publishMetadata.log file for the Publish Client</a>
					</li><li purpose="li" id="LI_5D01132D9E7C4C949EBF35E5ECE17389"><a class="xref" rel="00t0/00t000000007000000.htm#LOGSFORWMCCLIENT" href="00t0/00t000000007000000.htm#LOGSFORWMCCLIENT">The WMCOpener.log for the WMC Client</a></li>
				</ol></p></div>
		<div class="section1" id="ESRI_SECTION1_0ABF823EDB8B446BA5BDF6268201CE74" purpose="section1"><h2>Geoportal web application logging</h2><p id="GUID-2239CC12-EB2A-4CEB-88D6-AF07616A7249">When errors or other problems occur in the geoportal interface, the best place to look for information is the log files. The geoportal web application logging described here is in the context of implementations using <a class="xref" rel="00t0/00t000000007000000.htm#ESRI_SECTION2_0D337A7343C447F3983C395060009DE9" href="00t0/00t000000007000000.htm#ESRI_SECTION2_0D337A7343C447F3983C395060009DE9">Apache Tomcat for geoportal logging</a> or <a class="xref" rel="00t0/00t000000007000000.htm#ESRI_SECTION2_58CEF2AA507E44D8AC6114B63781D72F" href="00t0/00t000000007000000.htm#ESRI_SECTION2_58CEF2AA507E44D8AC6114B63781D72F">Oracle WebLogic for geoportal logging</a> as the web application server.  For other supported web application server software, you can use the concepts described in this section and apply them to the java util logging framework.  </p><div class="section2" id="ESRI_SECTION2_0D337A7343C447F3983C395060009DE9" purpose="section2"><h3>Geoportal logging for Apache Tomcat</h3><p id="GUID-76EE54A4-8A55-4971-A409-EAA0A9C6E16B">Tomcat's log files are by default found in the  <i>&lt;Tomcat Installation Directory&gt;\logs</i> directory. In addition to the standard files that are created by Tomcat, the <i>logs</i> directory will also contain an geoportal web application log file, named <i>gpt.xxxxxx.log </i>where <i>xxxxxx</i> is the date in yyyy-mm-dd format. This log file is the first place to check for errors.  Additional details about Tomcat's logging mechanism can be found <a target="_blank" class="xref" href="http://tomcat.apache.org/tomcat-5.5-doc/logging.html" rel="http://tomcat.apache.org/tomcat-5.5-doc/logging.html">here</a>.</p><p id="GUID-A9826A75-7EA7-4976-823C-50145BEB62A2">The Geoportal Server allows setting the level of logging to get more or less detail in geoportal log files. The level of details written to the <i>gpt.xxxxx.log</i> file is set in the <i>&lt;Tomcat Installation Directory&gt;\webapps\geoportal\WEB-INF\classes\logging.properties</i> file. The variable <span class="uicontrol">com.esri.gpt.level</span> determines the logging level and is set to <span class="uicontrol">FINE</span> by default. Accepted values for the logging level are: <ul purpose="ul" id="UL_6F8B3636E19444B98B7EFE402EF7592C">
						<li purpose="li" id="GUID-0996325D-3D6D-4554-AECF-3141C93F53F0">SEVERE</li>
						<li purpose="li" id="GUID-AA3C589B-E0B0-49AA-B095-8C470B8D3692">WARNING</li>
						<li purpose="li" id="GUID-B5502E81-C4BA-46FD-888E-74497437B00B">INFO</li>
						<li purpose="li" id="GUID-0E445598-2DAC-4C32-83F0-1185CCFC066C">CONFIG</li>
						<li purpose="li" id="GUID-FCBBA0DD-0D45-477E-814A-0D2BD1F2CBB0">FINE</li>
						<li purpose="li" id="GUID-8F2726C0-BF90-4930-8BBE-F79F6397A708">FINER</li>
						<li purpose="li" id="GUID-DE583DF3-8AC5-4168-9738-73961570C808">FINEST</li>
						<li purpose="li" id="GUID-B7A817CF-DDAC-42D1-A2DA-6C763E8DF073">ALL</li>
					</ul>After changing the logging level, restart the geoportal web application within Tomcat Manager, or restart Tomcat altogether so your changes take effect. </p><div class="notes" id="GUID-AB7243AB-E0C8-4C1E-AF7C-250E7CE13872"><div class="caution"><img class="note_img" src="rsrc/caution.png" alt="Caution" title="Caution"><span>Caution:</span></div><div class="tipbody"><p id="GUID-B86419B4-7EDE-4695-8B90-1D387E494E6B">Setting the log level to FINER, FINEST, or ALL is suitable troubleshooting, but the log level should be set back to its original level when troubleshooting is complete. Leaving logging set to these levels will cause the logfile to grow large quickly and take up disk space.</p></div></div></div><div class="section2" id="ESRI_SECTION2_58CEF2AA507E44D8AC6114B63781D72F" purpose="section2"><h3>Geoportal logging for Oracle WebLogic</h3><p id="GUID-B0ED2640-2E86-4F35-B21D-A06CF01E1056">Weblogic does not pick up the default geoportal <i>logging.properties</i> file in the geoportal classes directory. In order to affect the logging properties, you must edit the main <i>logging.properties</i> for the java executable running WebLogic. Steps below discuss how to enable generating a logfile for the geoportal web application and writing it to an output directory of your choice. For more information, see the Oracle online documentation for <a target="_blank" class="xref" href="http://download.oracle.com/docs/cd/E11035_01/wls100/logging/logging_services.html" rel="http://download.oracle.com/docs/cd/E11035_01/wls100/logging/logging_services.html">WebLogic logging</a>.<ol purpose="ol" id="OL_8439D6D4ABBF428B9A5618A11558932E">
						<li purpose="li" id="LI_074DCDFA7EA14DEF96B4BACB78D58DF5">  Locate the java executable running weblogic, and within that folder, open its logging.properties file in a text editor.  <div class="notes" id="GUID-9E482CF8-FB15-4519-B921-6E4DC28350DF"><div class="tip"><img class="note_img" src="rsrc/tip.png" alt="Tip" title="Tip"><span>Tip:</span></div><div class="tipbody"><p id="GUID-841B5F7D-099C-4AD8-89DC-D87E599F1DDA">Sometimes the WebLogic java executable's logging.properties file can be found in the <i>\\bea\jrockit\jre\lib</i> or <i>\\Oracle\Middleware\jdk\jre\lib</i> folder.</p></div></div></li><li purpose="li" id="LI_4E2D1B35F02D440F904A3F9BAFB4B90B">In the logging.properties file, find the <i>java.util.logging.ConsoleHandler.level </i> parameter, and change the setting from the default <span class="usertext">INFO</span> to <span class="usertext">FINER</span>.</li><li purpose="li" id="LI_06806083FCB64241A302FFB64B71D272">In that same file, scroll to the end of the file where the <i># Facility specific
properties.</i> are defined. Beneath the example line for the  <i>com.xyz.foo.level =
SEVERE</i> facility, enter the following:<pre class="lines" purpose="lines">com.esri.gpt.level = FINER</pre></li><li purpose="li" id="LI_0599C61E4C5F4E94808573363353E2B8">Save the logging.properties file.</li><li purpose="li" id="LI_5264EE8C6E39485CAB05400CB137E17B">The weblogic server scripts by default log
all messages to the server's console. To redirect these to a log
file, you need to edit the WebLogic Server
startup script. Start by navigating to the startWebLogic.cmd file and opening it in a text editor.  The startWebLogic file is often found in the <i>\\wlserver_10\samples\domains\wl_server\bin</i> folder, or a similar filepath.</li><li purpose="li" id="LI_99F50176D3AC4BD8B23B35F399277C57">In the startWebLogic.cmd file, find the  line that reads: <pre class="lines" purpose="lines">set JAVA_OPTIONS=%SAVE_JAVA_OPTIONS%</pre></li><li purpose="li" id="LI_A3044F9333264EC08375443833AC0823">Add two additional parameters to this JAVA_OPTIONS variable.  The two parameters will define the name of two geoportal logfiles, and the location to which they should be written.  In our exampe, we write these two logfiles to the C:\ drive.  The two parameters are -Dweblogic.Stdout="C:\geoportal-stdout"  and <i>-Dweblogic.Stderr="C:\geoportal-stderr"</i>. The JAVA_OPTIOINS variable should now look like the example below.<pre class="lines" purpose="lines">set JAVA_OPTIONS=%SAVE_JAVA_OPTIONS% -Dweblogic.Stdout="C:\geoportal-stdout" -Dweblogic.Stderr="C:\geoportal-stderr"</pre></li><li purpose="li" id="LI_4801986CF0444604B7E277B4EFF1EB26">Save the startWebLogic.cmd file.</li><li purpose="li" id="LI_6BD83D8D578948DEBB1865E746609F33">Restart the WebLogic service. After the service starts, your geoportal logfiles should be written to the C:\ drive.</li>
					</ol>
				</p></div></div><div class="section1" id="ESRI_SECTION1_3721437C54734EC397D0DA6ED9C1C48F" purpose="section1"><h2>Enable logging for the Geoportal Clients </h2><p id="GUID-74A6E2DA-024D-45DE-9EEC-6B5E8C4FF7BD">Logging for the CSW Clients, Publish Client, and WMC Client is turned off by default. To enable logging, specify the logfile output path, and define the maximum logfile size, you must configure property files for the Clients.  These property files are found in the ArcGIS Desktop installation directory, in the <i>\\ArcGIS\Desktop10.0\bin</i> folder, and are installed when the Client itself is installed.  For the CSW Clients for ArcGIS Explorer, the property file is found at <i>\\\Explorer\bin</i>. The corresponding property file for each Client is shown below. <div class="notes" id="GUID-72FF89E7-D81D-4D82-85E1-0C647ACA9D0B"><div class="caution"><img class="note_img" src="rsrc/caution.png" alt="Caution" title="Caution"><span>Caution:</span></div><div class="tipbody"><p id="GUID-CD300629-80D3-4F41-9D8E-95190515ABEF">If you navigate to the <i>\\ProgramFiles\ESRI\Geoportal\</i> directory, you will see subfolders for the Clients that also contain property files.  These are templates used during the Client's installation, and are not referenced for any logging changes. Be sure to make any logging changes to the property files in the  <i>\\ArcGIS\Desktop10.0\bin</i> folder instead.</p></div></div><div class="block_table" id="TABLE_89C2E62799604116BCD8EC42FCFE0724" purpose="block_table"><span class="table_title"></span><table class="table"><colgroup width="*"></colgroup><colgroup width="*"></colgroup><tr purpose="thead"><th class="th" purpose="th" rowspan="1" colspan="1"><p id="GUID-AF136F9E-52DC-48BE-AC1B-90367298359C">Geoportal Client Name</p></th><th class="th" purpose="th" rowspan="1" colspan="1"><p id="GUID-A8B0BEF8-BA3A-45C4-AEDA-3CCC7D05AA0E">Property file in \\ArcGIS\Desktop10.0\bin</p></th></tr><tr purpose="row"><td purpose="entry" rowspan="1" colspan="1"><p id="GUID-2D5B2497-AEAD-4C09-BD9F-B0CD583A45B0">CSW Clients</p></td><td purpose="entry" rowspan="1" colspan="1"><p id="GUID-32C7FF16-F373-496D-99DF-22C00D973C30">CswClient.properties</p></td></tr><tr purpose="row"><td purpose="entry" rowspan="1" colspan="1"><p id="GUID-A0F97F30-A3F8-4D22-8BE8-1AD0C74DEF60">Publish Client</p></td><td purpose="entry" rowspan="1" colspan="1"><p id="GUID-661DF72C-B3A0-4548-8046-3A22FC902855">PublishClient.properties</p></td></tr><tr purpose="row"><td purpose="entry" rowspan="1" colspan="1"><p id="GUID-29EBE547-EB19-44C2-A19E-4BA0736EBD95">WMC Client</p></td><td purpose="entry" rowspan="1" colspan="1"><p id="GUID-BC3D6DBC-4B2E-4F8A-9BAF-06EF57C079AD">WMCOpener.properties</p></td></tr></table><span class="table_desc"></span></div>Each property file has the following three settings, which can be set as described below.  After changing the property file, you must relaunch ArcGIS Desktop or ArcGIS Explorer for your changes to take affect.<div class="block_table" id="TABLE_E6772F783E54429FA57AE8059ACDE35F" purpose="block_table"><span class="table_title"></span><table class="table"><colgroup width="*"></colgroup><colgroup width="*"></colgroup><colgroup width="*"></colgroup><tr purpose="thead"><th class="th" purpose="th" rowspan="1" colspan="1"><p id="GUID-07FB8A88-B62D-4679-93BE-6F04EAD286EF">Setting</p></th><th class="th" purpose="th" rowspan="1" colspan="1"><p id="GUID-002F9473-CC31-4634-9684-A84A6E1467F6">Description</p></th><th class="th" purpose="th" rowspan="1" colspan="1"><p id="GUID-D5786F9B-A956-4EEA-9168-345848CB691D">Accepted Values</p></th></tr><tr purpose="row"><td purpose="entry" rowspan="1" colspan="1"><p id="GUID-5A42848C-55F4-4B4C-AB3E-3D6A6793D9A9">logFolder</p>
								</td><td purpose="entry" rowspan="1" colspan="1"><p id="GUID-5FD5CEC3-17F7-4731-847C-82631565761A">Location to where logfiles should be written</p></td><td purpose="entry" rowspan="1" colspan="1"><p id="GUID-89ED92CD-D84E-4E88-A7F2-15E28CCC4E11">filepath accessible on the network</p></td></tr><tr purpose="row"><td purpose="entry" rowspan="1" colspan="1"><p id="GUID-B221ED4E-7896-4CA2-B6AE-BD8A1B741D94">maxLogFileSizeInBytes</p></td><td purpose="entry" rowspan="1" colspan="1"><p id="GUID-BEB7C2CC-038B-4C18-A877-BA3C3E2941E6">maximum size allowable for logfile</p></td><td purpose="entry" rowspan="1" colspan="1"><p id="GUID-9DC6C340-E13A-45B8-95C2-CD1F5CA321FD">integer</p></td></tr><tr purpose="row"><td purpose="entry" rowspan="1" colspan="1"><p id="GUID-695344EF-ED48-421C-8158-4C05F68CBA56">debug</p></td><td purpose="entry" rowspan="1" colspan="1"><p id="GUID-1E2E371A-A923-41BF-B6B1-4585BDCD928B">sets logging on or off<div class="notes" id="GUID-AB4F5C7B-2B9C-4DFF-89C0-089BCC35890A"><div class="note"><img class="note_img" src="rsrc/note.png" alt="Note" title="Note"><span>Note:</span></div><div class="tipbody"><p id="GUID-1E5AE9B1-1F54-4AB0-9B22-2435C80176D5">Unlike geoportal web application logging, there is only two levels of logging for the clients: on or off</p></div></div></p></td><td purpose="entry" rowspan="1" colspan="1"><p id="GUID-878BDCF2-20D4-4688-A763-512CB1C3A84F">on / off</p><p id="GUID-D5073944-4570-4F9E-BA93-B1DAAC57B7DC">default is off</p></td></tr></table><span class="table_desc"></span></div></p><div class="section2" id="LOGFILEOVERVIEW" purpose="section2"><h3>The CswClient.log file for the CSW Clients </h3><p id="GUID-7F3B8B7C-17B6-47C6-8CA5-5EA37AABA217">Once you've <a class="xref" rel="00t0/00t000000007000000.htm#ESRI_SECTION1_3721437C54734EC397D0DA6ED9C1C48F" href="00t0/00t000000007000000.htm#ESRI_SECTION1_3721437C54734EC397D0DA6ED9C1C48F">enabled logging for the CSW Clients</a>, you can investigate the logfile to see the requests sent from the CSW Clients to the CSW catalog endpoints.  For more information about the requests and responses managed by the CSW Client, see <a class="xref" rel="00t0/00t00000001w000000.htm#ESRI_SECTION2_818786EA5E8C4882A2729940D52A8A8C" href="00t0/00t00000001w000000.htm#ESRI_SECTION2_818786EA5E8C4882A2729940D52A8A8C">How the CSW Clients Work</a>.  Investigating the communication in the CswClient.log file can often reveal if there is a problem with the endpoint, the profile being used to communicate, or another communication issue.</p></div><div class="section2" id="INTERPRETPUBLISHMETADATALOG" purpose="section2"><h3>The publishMetadata.log file for the Publish Client</h3><p id="GUID-EB0C61E1-4070-4A6E-9E33-E582C1F098AC">Once you've <a class="xref" rel="00t0/00t000000007000000.htm#ESRI_SECTION1_3721437C54734EC397D0DA6ED9C1C48F" href="00t0/00t000000007000000.htm#ESRI_SECTION1_3721437C54734EC397D0DA6ED9C1C48F">enabled logging for the Publish Client</a>, you can  investigate the publishMetadata.log logfile for information on your publish sessions and publish session results in more detail.  A sample logfile is shown and described below. You may see other messages besides what is shown in the sample, depending on the resource that is published and if the session was successful.<pre class="lines" purpose="lines">
************ Metadata Publishing started at   7/28/2010 11:20:38 AM ************
Publication Parameters
============================================================
Metadata Server Url           : http://myserver:8080/geoportal
Publish Metadata Service Name : GPT_Publish_Metadata
Selected Workspace Name       : \\networkServer\C$\Data\districts.shp.xml
Selected container category   : XML Document
============================================================
EndPoint Type : DEFAULT
Publish url : http://myserver:8080/geoportal/rest/manage/document
Publish request : &lt;metadata xml here&gt;
Publish response : 
Publication successful for \\networkServer\C$\Data\districts.shp.xml
************ Metadata Publishing completed at 7/28/2010 11:20:46 AM ************
</pre></p><p id="GUID-6BD903D0-C914-4006-9F8F-1F352817A79C">This logfile shows the start and end time of the publish session, the input parameters for the session, and the response if the publish session was successful or not.  The <i>Publish request</i> includes the metadata in the documents that the Publish Client finds and publishes.  The <i>EndPoint Type</i> indicates if the default geoportal endpoint - which is the REST endpoint - is being used, or if the CSW endpoint or servlet endpoint is used.  The <i>Publish url</i> is the url to that endpoint. In this example, you can see that the REST endpoint url is listed.</p></div><div class="section2" id="LOGSFORWMCCLIENT" purpose="section2"><h3>The WMCOpener.log for the WMC Client</h3><p id="GUID-97669DA6-6B1C-4456-8A11-55AC3E7A506B">Once you've <a class="xref" rel="00t0/00t000000007000000.htm#ESRI_SECTION1_3721437C54734EC397D0DA6ED9C1C48F" href="00t0/00t000000007000000.htm#ESRI_SECTION1_3721437C54734EC397D0DA6ED9C1C48F">enabled logging for the WMC Client</a>, you can  investigate the WMCOpener.log logfile for information on the services referenced when you used the WMC Client.   The WMCOpener.log will provide the service information read from the WMC file, and report if the layer was actually added to the map. If there is a problem with the service and it is not added to the map, the service information will be listed in the log, but it will not say that it has been added.</p></div></div><br><div class="footer"> Copyright © 1995-2010 Esri. All rights reserved. </div></div></body></html>